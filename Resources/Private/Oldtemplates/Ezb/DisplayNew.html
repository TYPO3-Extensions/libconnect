{namespace libconnect=Tx_Libconnect_ViewHelpers}
<h1 class="ezb">
    <f:translate key="LLL:EXT:libconnect/Resources/Private/Language/locallang.xml:tx_libconnect.ezb.new.headline.alphabetical" />
</h1>

<f:if condition="{subject}">
    <h2 class="ezb">{subject}</h2>
</f:if>

<div class="ezb-list-legend">
    <ul>
        <f:for each="{journals.selected_colors}" as="section" key="key">

            <f:if condition="{section.colorkey} == 1">
                <li class="ezb-list-legend-one">
                    <f:escape value="{section.value}" type="raw" />
                </li>
            </f:if>

            <f:if condition="{section.colorkey} == 2">
                <li class="ezb-list-legend-two">
                    <f:escape value="{section.value}" type="raw" />
                </li>
            </f:if>

            <f:if condition="{section.colorkey} == 6">
                <li class="ezb-list-legend-six">
                    <f:escape value="{section.value}" type="raw" />
                </li>
            </f:if>

            <f:if condition="{section.colorkey} == 4">
                <li class="ezb-list-legend-four">
                    <f:escape value="{section.value}" type="raw" />
                </li>
            </f:if>

        </f:for>
    </ul>
</div>

<br/>

<div class="ezb-navigation">
    <f:for each="{journals.navlist.pages}" as="item">
        <f:if condition="{libconnect:IsArray(value: item)}">
            <f:then>
                <a href="<f:escape value="{item.link}" type="raw" />"><f:escape value="{item.title}" type="raw" /></a>
            </f:then>
            <f:else>
                <em><f:escape value="{item}" type="raw" /></em>
            </f:else>
        </f:if>
    </f:for>
</div>

<br/>

<p>
    <libconnect:strreplace search="%s" replace=" {journals.page_vars.search_count} ">
        <f:translate key="LLL:EXT:libconnect/Resources/Private/Language/locallang.xml:tx_libconnect.ezb.new.since" />
        <span class="ezb-newdate">{new_date}</span>
        <f:translate key="LLL:EXT:libconnect/Resources/Private/Language/locallang.xml:tx_libconnect.ezb.new.hits" />
    </libconnect:strreplace>
</p>

<br/><br/>

<f:flashMessages renderMode="div" />

<div class="ezb-list-output">
    <f:for each="{journals.alphabetical_order.first_fifty}" as="section">
        <h3>
            <a href="{section.link}">
                <libconnect:strreplace search=" & " replace=" &amp; ">
                    <f:escape value="{section.first_fifty_titles}" type="raw" />
                </libconnect:strreplace>...
            </a>
        </h3>
    </f:for>

    <ul class="ezb-list">
        <f:for each="{journals.alphabetical_order.journals}" as="journal">
            <li class="ezb-list-accessinfo-access_{journal.color_code}">
                <a href="<f:escape value="{journal.detail_link}" type="raw" />">
                    <libconnect:strreplace search=" & " replace=" &amp; ">
                        <f:escape value="{journal.title}" type="raw" />
                    </libconnect:strreplace>
                </a>
            </li>
        </f:for>
    </ul>

    <f:for each="{journals.alphabetical_order.next_fifty}" as="section">
        <h3>
            <a href="<f:escape value="{section.link}" type="raw" />">
                <libconnect:strreplace search=" & " replace=" &amp; ">
                    <f:escape value="{section.next_fifty_titles}" type="raw" />
                </libconnect:strreplace>...
            </a>
        </h3>
    </f:for>
</div>