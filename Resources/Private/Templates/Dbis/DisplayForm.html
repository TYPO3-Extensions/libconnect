<link rel="stylesheet" href="{f:uri.resource(path:'Styles/dbis.css')}" />
<div id="extSearchForm-wrapper" class="clearfix">

<form name="extSearchForm" action="{listUrl}" method="GET" class="e-search">
  <input type="hidden" name="id" value="{listPid}" />
  <fieldset>
    <legend>Erweiterte Suche nach Datenbanken</legend>
	<f:for each="{1:1, 2:2, 3:3, 4:4}" as="jq_type">

		<label for="jq_type{jq_type}" class="hiddendebis">Feldangabe</label>
    	<select name="libconnect[search][jq_type{jq_type}]" id="jq_type{jq_type}">
			<f:for each="{form.jq_type}" as="value" key="key" iteration="foriteration">
    			<option value="{key}" <f:if condition="{jq_type} == {foriteration.cycle}">selected="selected"</f:if>><f:format.htmlentitiesDecode>{value}</f:format.htmlentitiesDecode></option>
    		</f:for>
		</select>

		<label for="jq_term{jq_type}" class="hiddendebis">Suchbegriff</label> 
		<input type="text" size="30" class="dbis-input" name="libconnect[search][jq_term{jq_type}]" id="jq_term{jq_type}" value="" />
		
		<label for="jq_bool{jq_type}" class="hiddendebis">Verkn&uuml;pfung</label> 
	    <select name="libconnect[search][jq_bool{jq_type}]" id="jq_bool{jq_type}">
			<f:for each="{form.jq_bool}" as="value" key="key">
	      		<option value="{key}">{value}</option>
			</f:for>
	    </select>

		<label for="jq_not{jq_type}" class="hiddendebis">Negator</label> 
	    <select name="libconnect[search][jq_not{jq_type}]" id="jq_not{jq_type}">
			<f:for each="{form.jq_not}" as="value" key="key">
	      		<option value="{key}">{value}</option>
			</f:for>
	    </select>

	    <br />
	</f:for>

	<br/>
	<br/>
	
    <legend>Suche einschr√§nken auf:</legend> 

	<div id="dbis-extended-wrapper">
    <label for="fachgebiete">Fachgebiete:</label> 
    <select multiple="multiple" size="5" name="libconnect[search][gebiete][]" id="fachgebiete" style="height:6.6em;">
		<f:for each="{form.gebiete}" as="value" key="key">
   			<option value="{key}">{value}</option>
   		</f:for>
    </select>

    <br/>

    <label for="typen">Datenbank-Typen:</label> 
    <select multiple="multiple" size="5" name="libconnect[search][db_type][]" id="typen" style="height:6.6em;">
		<f:for each="{form.db_types}" as="value" key="key">
   			<option value="{key}">{value}</option>
   		</f:for>
    </select>
    <br/>

    <label for="zugaenge">Zugangsart:</label> 
    <select name="libconnect[search][zugaenge]" id="zugaenge">
		<f:for each="{form.zugaenge}" as="value" key="key">
   			<option value="{key}">{value}</option>
   		</f:for>
    </select>

    <br/>

    <label for="laender">Regionen:</label> 
    <select multiple="multiple" size="5" name="libconnect[search][lcode][]" id="laender" style="height:6.6em;">
    	<f:for each="{form.lcode}" as="value" key="key">
   			<option value="{key}">{value}</option>
   		</f:for>
    </select>
    <br/>

    <label for="formal_type">Formaler Typ:</label> 
    <select name="libconnect[search][formal_type]" id="formal_type" >
    	<f:for each="{form.formal_type}" as="value" key="key">
   			<option value="{key}">{value}</option>
   		</f:for>
    </select>

    <br />
    
    <input type="submit" class="button submit" value="Suchen" />
    </div>
  </fieldset>

</form>
</div>